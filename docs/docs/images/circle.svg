<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 900" font-family="'Segoe UI', system-ui, sans-serif">
  <defs>
    <linearGradient id="kelGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#2dd4bf" stop-opacity="0.15"/>
      <stop offset="100%" stop-color="#2dd4bf" stop-opacity="0.05"/>
    </linearGradient>
    <linearGradient id="seqGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#f59e0b" stop-opacity="0.2"/>
      <stop offset="100%" stop-color="#f59e0b" stop-opacity="0.08"/>
    </linearGradient>
    <marker id="arrow" viewBox="0 0 10 7" refX="10" refY="3.5"
            markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6366f1"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="900" height="900" fill="#1e1e2e" rx="16"/>

  <!-- Title -->
  <text x="450" y="45" text-anchor="middle" fill="#cdd6f4"
        font-size="22" font-weight="600">Kel-Circle Protocol</text>
  <text x="450" y="70" text-anchor="middle" fill="#6c7086"
        font-size="13">5 members · 1 sequencer · global sequence</text>

  <!-- Subtle circle outline -->
  <circle cx="450" cy="470" r="290" fill="none"
          stroke="#313244" stroke-width="1" stroke-dasharray="4,8" opacity="0.4"/>

  <!-- ============================================================ -->
  <!-- KEL cells are vertical strips: icp at the outer end,          -->
  <!-- events stacked inward, last event closest to center.          -->
  <!-- Each is rotated so the strip points from rim to center.       -->
  <!--                                                               -->
  <!-- Colors:                                                       -->
  <!--   icp  = teal    (#2dd4bf)                                    -->
  <!--   rot  = rose    (#f43f5e)                                    -->
  <!--   ixn  = indigo  (#6366f1)                                    -->
  <!--                                                               -->
  <!-- Circle center = (450, 470), radius = 290                      -->
  <!-- Positions (angle from top, clockwise):                        -->
  <!--   A: 0°   → (450, 180)   rotation=180°                       -->
  <!--   B: 72°  → (726, 380)   rotation=252°                       -->
  <!--   C: 144° → (621, 655)   rotation=324°                       -->
  <!--   D: 216° → (279, 655)   rotation=36°                        -->
  <!--   E: 288° → (174, 380)   rotation=108°                       -->
  <!-- ============================================================ -->

  <!-- ===== Member A (top, 0°) — rotated 180° to point down ===== -->
  <g transform="translate(450,180) rotate(180)">
    <rect x="-32" y="-95" width="64" height="190" rx="10"
          fill="url(#kelGrad)" stroke="#2dd4bf" stroke-width="1.5"/>
    <!-- icp (outermost = top of strip, which after 180° flip is farthest from center) -->
    <rect x="-24" y="-85" width="48" height="26" rx="4"
          fill="#2dd4bf" fill-opacity="0.3"/>
    <text x="0" y="-67" text-anchor="middle" fill="#94e2d5"
          font-size="10" transform="rotate(180,0,-72)">icp</text>
    <!-- ixn 1 -->
    <rect x="-24" y="-53" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-35" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(180,0,-40)">ixn 1</text>
    <!-- ixn 4 -->
    <rect x="-24" y="-21" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-3" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(180,0,-8)">ixn 4</text>
    <!-- ixn 7 (closest to center) -->
    <rect x="-24" y="11" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="29" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(180,0,24)">ixn 7</text>
    <!-- label -->
    <text x="0" y="60" text-anchor="middle" fill="#2dd4bf"
          font-size="11" font-weight="600"
          transform="rotate(180,0,55)">A</text>
  </g>

  <!-- ===== Member B (72°, top-right) — rotated 252° ===== -->
  <g transform="translate(726,380) rotate(252)">
    <rect x="-32" y="-95" width="64" height="190" rx="10"
          fill="url(#kelGrad)" stroke="#2dd4bf" stroke-width="1.5"/>
    <rect x="-24" y="-85" width="48" height="26" rx="4"
          fill="#2dd4bf" fill-opacity="0.3"/>
    <text x="0" y="-67" text-anchor="middle" fill="#94e2d5"
          font-size="10" transform="rotate(108,0,-72)">icp</text>
    <!-- ixn 2 -->
    <rect x="-24" y="-53" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-35" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(108,0,-40)">ixn 2</text>
    <!-- ixn 8 -->
    <rect x="-24" y="-21" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-3" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(108,0,-8)">ixn 8</text>
    <text x="0" y="40" text-anchor="middle" fill="#2dd4bf"
          font-size="11" font-weight="600"
          transform="rotate(108,0,35)">B</text>
  </g>

  <!-- ===== Member C (144°, bottom-right) — has rot event — rotated 324° ===== -->
  <g transform="translate(621,655) rotate(324)">
    <rect x="-32" y="-95" width="64" height="190" rx="10"
          fill="url(#kelGrad)" stroke="#2dd4bf" stroke-width="1.5"/>
    <rect x="-24" y="-85" width="48" height="26" rx="4"
          fill="#2dd4bf" fill-opacity="0.3"/>
    <text x="0" y="-67" text-anchor="middle" fill="#94e2d5"
          font-size="10" transform="rotate(36,0,-72)">icp</text>
    <!-- ixn 3 -->
    <rect x="-24" y="-53" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-35" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(36,0,-40)">ixn 3</text>
    <!-- rot (key rotation!) -->
    <rect x="-24" y="-21" width="48" height="26" rx="4"
          fill="#f43f5e" fill-opacity="0.3"/>
    <text x="0" y="-3" text-anchor="middle" fill="#fda4af"
          font-size="10" transform="rotate(36,0,-8)">rot</text>
    <!-- ixn 6 -->
    <rect x="-24" y="11" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="29" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(36,0,24)">ixn 6</text>
    <text x="0" y="60" text-anchor="middle" fill="#2dd4bf"
          font-size="11" font-weight="600"
          transform="rotate(36,0,55)">C</text>
  </g>

  <!-- ===== Member D (216°, bottom-left) — rotated 36° ===== -->
  <g transform="translate(279,655) rotate(36)">
    <rect x="-32" y="-75" width="64" height="150" rx="10"
          fill="url(#kelGrad)" stroke="#2dd4bf" stroke-width="1.5"/>
    <rect x="-24" y="-65" width="48" height="26" rx="4"
          fill="#2dd4bf" fill-opacity="0.3"/>
    <text x="0" y="-47" text-anchor="middle" fill="#94e2d5"
          font-size="10" transform="rotate(-36,0,-52)">icp</text>
    <!-- ixn 5 -->
    <rect x="-24" y="-33" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-15" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(-36,0,-20)">ixn 5</text>
    <text x="0" y="20" text-anchor="middle" fill="#2dd4bf"
          font-size="11" font-weight="600"
          transform="rotate(-36,0,15)">D</text>
  </g>

  <!-- ===== Member E (288°, top-left) — rotated 108° ===== -->
  <g transform="translate(174,380) rotate(108)">
    <rect x="-32" y="-75" width="64" height="150" rx="10"
          fill="url(#kelGrad)" stroke="#2dd4bf" stroke-width="1.5"/>
    <rect x="-24" y="-65" width="48" height="26" rx="4"
          fill="#2dd4bf" fill-opacity="0.3"/>
    <text x="0" y="-47" text-anchor="middle" fill="#94e2d5"
          font-size="10" transform="rotate(-108,0,-52)">icp</text>
    <!-- ixn 9 -->
    <rect x="-24" y="-33" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-15" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(-108,0,-20)">ixn 9</text>
    <text x="0" y="20" text-anchor="middle" fill="#2dd4bf"
          font-size="11" font-weight="600"
          transform="rotate(-108,0,15)">E</text>
  </g>

  <!-- ============================================================ -->
  <!-- Sequencer KEL (center)                                        -->
  <!-- ============================================================ -->
  <g transform="translate(450,470)">
    <rect x="-85" y="-65" width="170" height="130" rx="14"
          fill="url(#seqGrad)" stroke="#f59e0b" stroke-width="2"/>
    <text x="0" y="-42" text-anchor="middle" fill="#f59e0b"
          font-size="13" font-weight="700">Sequencer</text>
    <rect x="-68" y="-30" width="136" height="22" rx="4"
          fill="#f59e0b" fill-opacity="0.2"/>
    <text x="0" y="-15" text-anchor="middle" fill="#fcd34d"
          font-size="11">icp (event 0)</text>
    <!-- Row 1: slots 1-4 -->
    <rect x="-68" y="-4" width="30" height="22" rx="4"
          fill="#f59e0b" fill-opacity="0.15"/>
    <text x="-53" y="11" text-anchor="middle" fill="#fcd34d"
          font-size="10" font-weight="600">1</text>
    <rect x="-34" y="-4" width="30" height="22" rx="4"
          fill="#f59e0b" fill-opacity="0.15"/>
    <text x="-19" y="11" text-anchor="middle" fill="#fcd34d"
          font-size="10" font-weight="600">2</text>
    <rect x="0" y="-4" width="30" height="22" rx="4"
          fill="#f59e0b" fill-opacity="0.15"/>
    <text x="15" y="11" text-anchor="middle" fill="#fcd34d"
          font-size="10" font-weight="600">3</text>
    <rect x="34" y="-4" width="34" height="22" rx="4"
          fill="#f59e0b" fill-opacity="0.15"/>
    <text x="51" y="11" text-anchor="middle" fill="#fcd34d"
          font-size="10" font-weight="600">4</text>
    <!-- Row 2: slots 5-8 -->
    <rect x="-68" y="22" width="30" height="22" rx="4"
          fill="#f59e0b" fill-opacity="0.15"/>
    <text x="-53" y="37" text-anchor="middle" fill="#fcd34d"
          font-size="10" font-weight="600">5</text>
    <rect x="-34" y="22" width="30" height="22" rx="4"
          fill="#f59e0b" fill-opacity="0.15"/>
    <text x="-19" y="37" text-anchor="middle" fill="#fcd34d"
          font-size="10" font-weight="600">6</text>
    <rect x="0" y="22" width="30" height="22" rx="4"
          fill="#f59e0b" fill-opacity="0.15"/>
    <text x="15" y="37" text-anchor="middle" fill="#fcd34d"
          font-size="10" font-weight="600">7</text>
    <rect x="34" y="22" width="34" height="22" rx="4"
          fill="#f59e0b" fill-opacity="0.15"/>
    <text x="51" y="37" text-anchor="middle" fill="#fcd34d"
          font-size="10" font-weight="600">8</text>
    <!-- Row 3: slot 9 -->
    <rect x="-68" y="48" width="30" height="22" rx="4"
          fill="#f59e0b" fill-opacity="0.15"/>
    <text x="-53" y="63" text-anchor="middle" fill="#fcd34d"
          font-size="10" font-weight="600">9</text>
    <text x="20" y="63" fill="#6c7086" font-size="10">...</text>
  </g>

  <!-- ============================================================ -->
  <!-- Arrows: member ixn → sequencer                                -->
  <!-- ============================================================ -->

  <!-- ixn 1: A → Seq -->
  <line x1="440" y1="280" x2="410" y2="410"
        stroke="#6366f1" stroke-width="1.4" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.65"/>

  <!-- ixn 2: B → Seq -->
  <line x1="665" y1="395" x2="540" y2="455"
        stroke="#6366f1" stroke-width="1.4" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.65"/>

  <!-- ixn 3: C → Seq -->
  <line x1="585" y1="610" x2="515" y2="530"
        stroke="#6366f1" stroke-width="1.4" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.65"/>

  <!-- ixn 4: A → Seq -->
  <line x1="455" y1="290" x2="470" y2="410"
        stroke="#6366f1" stroke-width="1.4" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.65"/>

  <!-- ixn 5: D → Seq -->
  <line x1="315" y1="610" x2="390" y2="530"
        stroke="#6366f1" stroke-width="1.4" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.65"/>

  <!-- ixn 6: C → Seq -->
  <line x1="575" y1="620" x2="505" y2="540"
        stroke="#6366f1" stroke-width="1.4" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.65"/>

  <!-- ixn 7: A → Seq -->
  <line x1="448" y1="300" x2="440" y2="415"
        stroke="#6366f1" stroke-width="1.4" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.65"/>

  <!-- ixn 8: B → Seq -->
  <line x1="660" y1="405" x2="535" y2="465"
        stroke="#6366f1" stroke-width="1.4" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.65"/>

  <!-- ixn 9: E → Seq -->
  <line x1="235" y1="395" x2="370" y2="455"
        stroke="#6366f1" stroke-width="1.4" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.65"/>

  <!-- ============================================================ -->
  <!-- Legend                                                         -->
  <!-- ============================================================ -->
  <g transform="translate(40,830)">
    <!-- icp -->
    <rect x="0" y="0" width="40" height="16" rx="3"
          fill="#2dd4bf" fill-opacity="0.3"/>
    <text x="20" y="12" text-anchor="middle" fill="#94e2d5"
          font-size="9">icp</text>
    <text x="48" y="12" fill="#a6adc8" font-size="10">inception</text>

    <!-- rot -->
    <rect x="140" y="0" width="40" height="16" rx="3"
          fill="#f43f5e" fill-opacity="0.3"/>
    <text x="160" y="12" text-anchor="middle" fill="#fda4af"
          font-size="9">rot</text>
    <text x="188" y="12" fill="#a6adc8" font-size="10">key rotation</text>

    <!-- ixn -->
    <rect x="310" y="0" width="40" height="16" rx="3"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="330" y="12" text-anchor="middle" fill="#a5b4fc"
          font-size="9">ixn</text>
    <text x="358" y="12" fill="#a6adc8" font-size="10">interaction</text>

    <!-- sequencer -->
    <rect x="470" y="0" width="16" height="16" rx="3"
          fill="#f59e0b" fill-opacity="0.2" stroke="#f59e0b" stroke-width="1"/>
    <text x="494" y="12" fill="#a6adc8" font-size="10">sequencer</text>

    <!-- arrow -->
    <line x1="580" y1="8" x2="620" y2="8"
          stroke="#6366f1" stroke-width="1.4" stroke-dasharray="5,3"
          marker-end="url(#arrow)"/>
    <text x="630" y="12" fill="#a6adc8" font-size="10">sequenced</text>

    <!-- member -->
    <rect x="720" y="0" width="16" height="16" rx="3"
          fill="#2dd4bf" fill-opacity="0.15" stroke="#2dd4bf" stroke-width="1"/>
    <text x="744" y="12" fill="#a6adc8" font-size="10">member KEL</text>
  </g>
</svg>
