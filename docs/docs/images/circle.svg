<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 960" font-family="'Segoe UI', system-ui, sans-serif">
  <defs>
    <linearGradient id="kelGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#2dd4bf" stop-opacity="0.15"/>
      <stop offset="100%" stop-color="#2dd4bf" stop-opacity="0.05"/>
    </linearGradient>
    <linearGradient id="seqGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#f59e0b" stop-opacity="0.15"/>
      <stop offset="100%" stop-color="#f59e0b" stop-opacity="0.05"/>
    </linearGradient>
    <marker id="arrow" viewBox="0 0 10 7" refX="10" refY="3.5"
            markerWidth="8" markerHeight="6" orient="auto-start-reverse">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6366f1"/>
    </marker>
  </defs>

  <rect width="960" height="960" fill="#1e1e2e" rx="16"/>

  <text x="480" y="45" text-anchor="middle" fill="#cdd6f4"
        font-size="22" font-weight="600">Kel-Circle Protocol</text>
  <text x="480" y="70" text-anchor="middle" fill="#6c7086"
        font-size="13">5 members + 1 sequencer · global sequence</text>

  <!-- Subtle circle outline, center=(480,490), r=310 -->
  <circle cx="480" cy="490" r="310" fill="none"
          stroke="#313244" stroke-width="1" stroke-dasharray="4,8" opacity="0.4"/>

  <!-- ============================================================ -->
  <!-- 6 KELs on the circle, 60° apart.                             -->
  <!-- Each is a vertical strip rotated to point inward.             -->
  <!-- icp at outer end, last event closest to center.               -->
  <!--                                                               -->
  <!-- Event colors:                                                 -->
  <!--   icp = teal    (#2dd4bf / #94e2d5)                           -->
  <!--   rot = rose    (#f43f5e / #fda4af)                           -->
  <!--   ixn = indigo  (#6366f1 / #a5b4fc)                           -->
  <!--                                                               -->
  <!-- Positions (angle from top, clockwise):                        -->
  <!--   S:  0°  (480, 180)  rot=180°  — Sequencer (amber)          -->
  <!--   A: 60°  (748, 335)  rot=240°                                -->
  <!--   B: 120° (748, 645)  rot=300°                                -->
  <!--   C: 180° (480, 800)  rot=0°                                  -->
  <!--   D: 240° (212, 645)  rot=60°                                 -->
  <!--   E: 300° (212, 335)  rot=120°                                -->
  <!-- ============================================================ -->

  <!-- ===== Sequencer S (0°, top) — amber, rotated 180° ===== -->
  <g transform="translate(480,180) rotate(180)">
    <rect x="-32" y="-95" width="64" height="190" rx="10"
          fill="url(#seqGrad)" stroke="#f59e0b" stroke-width="1.5"/>
    <!-- icp -->
    <rect x="-24" y="-85" width="48" height="26" rx="4"
          fill="#f59e0b" fill-opacity="0.25"/>
    <text x="0" y="-67" text-anchor="middle" fill="#fcd34d"
          font-size="10" transform="rotate(180,0,-72)">icp</text>
    <!-- global seq slots shown as ixn events in the sequencer's KEL -->
    <rect x="-24" y="-53" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-35" text-anchor="middle" fill="#a5b4fc"
          font-size="9" transform="rotate(180,0,-40)">ixn 0→1</text>
    <rect x="-24" y="-21" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-3" text-anchor="middle" fill="#a5b4fc"
          font-size="9" transform="rotate(180,0,-8)">ixn 0→2</text>
    <rect x="-24" y="11" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="29" text-anchor="middle" fill="#a5b4fc"
          font-size="9" transform="rotate(180,0,24)">ixn 0→3</text>
    <rect x="-24" y="43" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.15"/>
    <text x="0" y="61" text-anchor="middle" fill="#7c7f9b"
          font-size="9" transform="rotate(180,0,56)">...</text>
    <!-- label -->
    <text x="0" y="85" text-anchor="middle" fill="#f59e0b"
          font-size="11" font-weight="700"
          transform="rotate(180,0,80)">S</text>
  </g>

  <!-- ===== Member A (60°, top-right) — rotated 240° ===== -->
  <g transform="translate(748,335) rotate(240)">
    <rect x="-32" y="-95" width="64" height="190" rx="10"
          fill="url(#kelGrad)" stroke="#2dd4bf" stroke-width="1.5"/>
    <rect x="-24" y="-85" width="48" height="26" rx="4"
          fill="#2dd4bf" fill-opacity="0.3"/>
    <text x="0" y="-67" text-anchor="middle" fill="#94e2d5"
          font-size="10" transform="rotate(120,0,-72)">icp</text>
    <rect x="-24" y="-53" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-35" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(120,0,-40)">ixn 1</text>
    <rect x="-24" y="-21" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-3" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(120,0,-8)">ixn 4</text>
    <rect x="-24" y="11" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="29" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(120,0,24)">ixn 7</text>
    <text x="0" y="60" text-anchor="middle" fill="#2dd4bf"
          font-size="11" font-weight="600"
          transform="rotate(120,0,55)">A</text>
  </g>

  <!-- ===== Member B (120°, bottom-right) — rotated 300° ===== -->
  <g transform="translate(748,645) rotate(300)">
    <rect x="-32" y="-75" width="64" height="150" rx="10"
          fill="url(#kelGrad)" stroke="#2dd4bf" stroke-width="1.5"/>
    <rect x="-24" y="-65" width="48" height="26" rx="4"
          fill="#2dd4bf" fill-opacity="0.3"/>
    <text x="0" y="-47" text-anchor="middle" fill="#94e2d5"
          font-size="10" transform="rotate(60,0,-52)">icp</text>
    <rect x="-24" y="-33" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-15" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(60,0,-20)">ixn 2</text>
    <rect x="-24" y="-1" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="17" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(60,0,12)">ixn 8</text>
    <text x="0" y="48" text-anchor="middle" fill="#2dd4bf"
          font-size="11" font-weight="600"
          transform="rotate(60,0,43)">B</text>
  </g>

  <!-- ===== Member C (180°, bottom) — has rot event — rotated 0° ===== -->
  <g transform="translate(480,800) rotate(0)">
    <rect x="-32" y="-95" width="64" height="190" rx="10"
          fill="url(#kelGrad)" stroke="#2dd4bf" stroke-width="1.5"/>
    <rect x="-24" y="-85" width="48" height="26" rx="4"
          fill="#2dd4bf" fill-opacity="0.3"/>
    <text x="0" y="-67" text-anchor="middle" fill="#94e2d5"
          font-size="10">icp</text>
    <rect x="-24" y="-53" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-35" text-anchor="middle" fill="#a5b4fc"
          font-size="10">ixn 3</text>
    <!-- rot (key rotation!) -->
    <rect x="-24" y="-21" width="48" height="26" rx="4"
          fill="#f43f5e" fill-opacity="0.3"/>
    <text x="0" y="-3" text-anchor="middle" fill="#fda4af"
          font-size="10">rot</text>
    <rect x="-24" y="11" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="29" text-anchor="middle" fill="#a5b4fc"
          font-size="10">ixn 6</text>
    <text x="0" y="60" text-anchor="middle" fill="#2dd4bf"
          font-size="11" font-weight="600">C</text>
  </g>

  <!-- ===== Member D (240°, bottom-left) — rotated 60° ===== -->
  <g transform="translate(212,645) rotate(60)">
    <rect x="-32" y="-75" width="64" height="150" rx="10"
          fill="url(#kelGrad)" stroke="#2dd4bf" stroke-width="1.5"/>
    <rect x="-24" y="-65" width="48" height="26" rx="4"
          fill="#2dd4bf" fill-opacity="0.3"/>
    <text x="0" y="-47" text-anchor="middle" fill="#94e2d5"
          font-size="10" transform="rotate(-60,0,-52)">icp</text>
    <rect x="-24" y="-33" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-15" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(-60,0,-20)">ixn 5</text>
    <text x="0" y="20" text-anchor="middle" fill="#2dd4bf"
          font-size="11" font-weight="600"
          transform="rotate(-60,0,15)">D</text>
  </g>

  <!-- ===== Member E (300°, top-left) — rotated 120° ===== -->
  <g transform="translate(212,335) rotate(120)">
    <rect x="-32" y="-75" width="64" height="150" rx="10"
          fill="url(#kelGrad)" stroke="#2dd4bf" stroke-width="1.5"/>
    <rect x="-24" y="-65" width="48" height="26" rx="4"
          fill="#2dd4bf" fill-opacity="0.3"/>
    <text x="0" y="-47" text-anchor="middle" fill="#94e2d5"
          font-size="10" transform="rotate(-120,0,-52)">icp</text>
    <rect x="-24" y="-33" width="48" height="26" rx="4"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="0" y="-15" text-anchor="middle" fill="#a5b4fc"
          font-size="10" transform="rotate(-120,0,-20)">ixn 9</text>
    <text x="0" y="20" text-anchor="middle" fill="#2dd4bf"
          font-size="11" font-weight="600"
          transform="rotate(-120,0,15)">E</text>
  </g>

  <!-- ============================================================ -->
  <!-- Arrows: member ixn → sequencer S (at top, ~480,180)           -->
  <!-- Lines go from near the inner tip of each member KEL            -->
  <!-- toward the inner tip of the sequencer KEL                      -->
  <!-- ============================================================ -->

  <!-- A → S (ixn 1, 4, 7) -->
  <line x1="670" y1="360" x2="510" y2="260"
        stroke="#6366f1" stroke-width="1.3" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.55"/>

  <!-- B → S (ixn 2, 8) -->
  <line x1="690" y1="590" x2="520" y2="280"
        stroke="#6366f1" stroke-width="1.3" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.55"/>

  <!-- C → S (ixn 3, 6) -->
  <line x1="480" y1="710" x2="480" y2="290"
        stroke="#6366f1" stroke-width="1.3" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.55"/>

  <!-- D → S (ixn 5) -->
  <line x1="270" y1="590" x2="445" y2="280"
        stroke="#6366f1" stroke-width="1.3" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.55"/>

  <!-- E → S (ixn 9) -->
  <line x1="290" y1="360" x2="450" y2="260"
        stroke="#6366f1" stroke-width="1.3" stroke-dasharray="5,3"
        marker-end="url(#arrow)" opacity="0.55"/>

  <!-- ============================================================ -->
  <!-- Legend                                                         -->
  <!-- ============================================================ -->
  <g transform="translate(50,910)">
    <rect x="0" y="0" width="40" height="16" rx="3"
          fill="#2dd4bf" fill-opacity="0.3"/>
    <text x="20" y="12" text-anchor="middle" fill="#94e2d5"
          font-size="9">icp</text>
    <text x="48" y="12" fill="#a6adc8" font-size="10">inception</text>

    <rect x="140" y="0" width="40" height="16" rx="3"
          fill="#f43f5e" fill-opacity="0.3"/>
    <text x="160" y="12" text-anchor="middle" fill="#fda4af"
          font-size="9">rot</text>
    <text x="188" y="12" fill="#a6adc8" font-size="10">key rotation</text>

    <rect x="310" y="0" width="40" height="16" rx="3"
          fill="#6366f1" fill-opacity="0.3"/>
    <text x="330" y="12" text-anchor="middle" fill="#a5b4fc"
          font-size="9">ixn</text>
    <text x="358" y="12" fill="#a6adc8" font-size="10">interaction</text>

    <rect x="470" y="0" width="16" height="16" rx="3"
          fill="#f59e0b" fill-opacity="0.2" stroke="#f59e0b" stroke-width="1"/>
    <text x="494" y="12" fill="#a6adc8" font-size="10">sequencer KEL</text>

    <rect x="620" y="0" width="16" height="16" rx="3"
          fill="#2dd4bf" fill-opacity="0.15" stroke="#2dd4bf" stroke-width="1"/>
    <text x="644" y="12" fill="#a6adc8" font-size="10">member KEL</text>

    <line x1="750" y1="8" x2="790" y2="8"
          stroke="#6366f1" stroke-width="1.3" stroke-dasharray="5,3"
          marker-end="url(#arrow)"/>
    <text x="800" y="12" fill="#a6adc8" font-size="10">sequenced</text>
  </g>
</svg>
